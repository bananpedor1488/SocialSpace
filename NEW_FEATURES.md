# –ù–æ–≤—ã–µ —Ñ–∏—á–∏ –≤ SocialSpace üöÄ

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. üìπ –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∑–≤–æ–Ω–∫–∏
- **–í–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã –≤ –∞—É–¥–∏–æ –∑–≤–æ–Ω–∫–µ**: –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –∫–∞–º–µ—Ä—É –ø—Ä—è–º–æ –≤–æ –≤—Ä–µ–º—è –∞—É–¥–∏–æ –∑–≤–æ–Ω–∫–∞
- **–ö–Ω–æ–ø–∫–∞ "–í–∏–¥–µ–æ"** —Å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º –¥–ª—è –∞—É–¥–∏–æ –∑–≤–æ–Ω–∫–æ–≤
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –∑–≤–æ–Ω–∫–∞** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –∫–∞–º–µ—Ä–∞ –≤–∫–ª—é—á–µ–Ω–∞ –≤ –∞—É–¥–∏–æ —Ä–µ–∂–∏–º–µ

### 2. üìä –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∫–∞—á–µ—Å—Ç–≤–∞ —Å–µ—Ç–∏
- **–ü–æ–ª–æ—Å–∫–∏ —Å–∏–≥–Ω–∞–ª–∞** —Å 4 —É—Ä–æ–≤–Ω—è–º–∏ (–æ—Ç–ª–∏—á–Ω–æ–µ, —Ö–æ—Ä–æ—à–µ–µ, —Å—Ä–µ–¥–Ω–µ–µ, —Å–ª–∞–±–æ–µ)
- **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: ping, –ø–æ—Ç–µ—Ä–∏ –ø–∞–∫–µ—Ç–æ–≤, jitter
- **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è** –∫–∞—á–µ—Å—Ç–≤–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã

### 3. üü¢ –û–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ó–µ–ª–µ–Ω–∞—è —Ç–æ—á–∫–∞** –¥–ª—è –æ–Ω–ª–∞–π–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø—É–ª—å—Å–∏—Ä—É—é—â–µ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π
- **–°–µ—Ä–∞—è —Ç–æ—á–∫–∞** –¥–ª—è –æ—Ñ–ª–∞–π–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏** ("5 –º–∏–Ω –Ω–∞–∑–∞–¥", "–±—ã–ª –≤—á–µ—Ä–∞")
- **Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** —á–µ—Ä–µ–∑ WebSocket

### 4. üîÑ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏/–æ—Ç–∫–ª—é—á–µ–Ω–∏–∏
- **Heartbeat —Å–∏—Å—Ç–µ–º–∞** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **Socket.IO —Å–æ–±—ã—Ç–∏—è** –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### OnlineStatus
```jsx
import OnlineStatus from '../components/OnlineStatus';

<OnlineStatus
  userId="user123"
  isOnline={true}
  lastSeen={new Date()}
  showText={true}
  size="medium" // small, medium, large
/>
```

### useOnlineStatus Hook
```jsx
import useOnlineStatus from '../hooks/useOnlineStatus';

const { onlineUsers, fetchOnlineStatus, getUserStatus } = useOnlineStatus(socket);

// –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const userStatus = getUserStatus(userId);
```

## API Endpoints

### –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å–∞
```
GET /api/users/online-status?userIds=user1,user2,user3
Authorization: Bearer <token>
```

## Socket.IO –°–æ–±—ã—Ç–∏—è

### –ö–ª–∏–µ–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä
- `user-activity` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `call-video-upgrade` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –≤–∫–ª—é—á–µ–Ω–∏–∏ –∫–∞–º–µ—Ä—ã

### –°–µ—Ä–≤–µ—Ä ‚Üí –ö–ª–∏–µ–Ω—Ç
- `userOnline` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è
- `userOffline` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–ª—é—á–∏–ª—Å—è
- `call-video-upgrade` - —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫ –≤–∫–ª—é—á–∏–ª –∫–∞–º–µ—Ä—É

## CSS –ö–ª–∞—Å—Å—ã

### –ö–∞—á–µ—Å—Ç–≤–æ —Å–µ—Ç–∏
- `.network-quality.excellent` - –æ—Ç–ª–∏—á–Ω–æ–µ (–∑–µ–ª–µ–Ω—ã–π)
- `.network-quality.good` - —Ö–æ—Ä–æ—à–µ–µ (—Å–≤–µ—Ç–ª–æ-–∑–µ–ª–µ–Ω—ã–π)
- `.network-quality.fair` - —Å—Ä–µ–¥–Ω–µ–µ (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
- `.network-quality.poor` - —Å–ª–∞–±–æ–µ (–∫—Ä–∞—Å–Ω—ã–π)

### –û–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å
- `.status-indicator.online` - –æ–Ω–ª–∞–π–Ω (–∑–µ–ª–µ–Ω–∞—è —Ç–æ—á–∫–∞)
- `.status-indicator.offline` - –æ—Ñ–ª–∞–π–Ω (—Å–µ—Ä–∞—è —Ç–æ—á–∫–∞)
- `.status-pulse` - –ø—É–ª—å—Å–∏—Ä—É—é—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è

### –£–ª—É—á—à–µ–Ω–∏–µ –∑–≤–æ–Ω–∫–∞
- `.upgrade-btn` - –∫–Ω–æ–ø–∫–∞ –≤–∫–ª—é—á–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
- `.upgraded-call-indicator` - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–µ–æ

## –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### –í —á–∞—Ç–∞—Ö
- ‚úÖ –û–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å –≤ —Å–ø–∏—Å–∫–µ —á–∞—Ç–æ–≤ (–º–∞–ª–µ–Ω—å–∫–∞—è —Ç–æ—á–∫–∞)
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ —á–∞—Ç–∞ (—Å —Ç–µ–∫—Å—Ç–æ–º)

### –í –∑–≤–æ–Ω–∫–∞—Ö  
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∫–∞—á–µ—Å—Ç–≤–∞ —Å–µ—Ç–∏ –≤–æ –≤—Ä–µ–º—è –∑–≤–æ–Ω–∫–∞
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –≤–∫–ª—é—á–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã –≤ –∞—É–¥–∏–æ –∑–≤–æ–Ω–∫–µ
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### Real-time
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏/–æ—Ç–∫–ª—é—á–µ–Ω–∏–∏
- ‚úÖ Heartbeat –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ WebSocket

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (MongoDB)
```javascript
// –ú–æ–¥–µ–ª—å User –æ–±–Ω–æ–≤–ª–µ–Ω–∞
{
  isOnline: Boolean,
  lastSeen: Date,
  socketId: String
}
```

### WebRTC –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `inbound-rtp` - –≤—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫
- `outbound-rtp` - –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫  
- `candidate-pair` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Ç–µ—Ä—å –ø–∞–∫–µ—Ç–æ–≤, jitter –∏ ping

–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! üî•